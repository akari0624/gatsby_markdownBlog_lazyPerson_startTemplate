{"componentChunkName":"component---src-templates-blog-post-js","path":"/content/2019/08/04/blog_cicd_pipeline/","result":{"data":{"site":{"siteMetadata":{"disqusShortname":"morrisctech","rootDomain":"https://morrisctech.com"}},"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"打造自己部落格的CI/CD pipeline，以BitBucket環境為例\",\n  \"date\": \"2019-08-04\",\n  \"id\": \"000011\",\n  \"tags\": [\"BitBucket\", \"CI/CD\", \"docker\", \"pipeline\"],\n  \"description\": \"紀錄在bitbucket上該如何用好ci/cd pipeline，以一個個人的gatsby-blog為例\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"必須要解決的問題\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#%E5%BF%85%E9%A0%88%E8%A6%81%E8%A7%A3%E6%B1%BA%E7%9A%84%E5%95%8F%E9%A1%8C\",\n    \"aria-label\": \"必須要解決的問題 permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"\\u5FC5\\u9808\\u8981\\u89E3\\u6C7A\\u7684\\u554F\\u984C\"), mdx(\"p\", null, \"\\u5728\\u4E4B\\u524D\\u7684\\u4E00\\u7BC7\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/2018/08/23/gatsby_blog/\"\n  }), \"\\u6587\\u7AE0\"), \"\\u4E2D\\uFF0C\\u6211\\u5011\\u4F7F\\u7528\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Gatsby\"), \"\\u6253\\u9020\\u51FA\\u4E86\\u4E00\\u500B\\u5BEBblog\\u7684\\u74B0\\u5883\\uFF0C\\u4F46\\u662F\\u4F7F\\u7528\\u6C92\\u591A\\u4E45\\u5C31\\u6703\\u9047\\u5230\\u4E00\\u500B\\u554F\\u984C\\uFF0C\\u90A3\\u5C31\\u662F\\uFF0C\\u90E8\\u843D\\u683C\\u7684\\u66F4\\u7248\\u5BE6\\u5728\\u662F\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"\\u975E\\u5E38\\u5730\\u9EBB\\u7169\"), \"\\uFF0C\\u4EE5\\u6211\\u662F\\u628A\\u90E8\\u843D\\u683C\\u81EA\\u5DF1\\u653E\\u5728\\u81EA\\u5DF1\\u5728\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"DigitalOcean\"), \"VPS\\u4E0A\\u4F86\\u8AAA\\uFF0C\\u6BCF\\u6B21\\u4E0D\\u7BA1\\u662F\\u6709\\u65B0\\u6587\\u7AE0\\uFF0C\\u6216\\u662F\\u6211\\u6709\\u4FEE\\u6539\\u5167\\u5BB9\\u6642\\uFF0C\\u6211\\u90FD\\u5FC5\\u9808\\u8981\\n1. \\u5148\\u5728\\u81EA\\u5DF1\\u7684\\u96FB\\u8166\\u4E0A\\u57F7\\u884C\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"npm run build\"), \"\\u6307\\u4EE4(\\u5176\\u5BE6\\u5C31\\u662F\\u57F7\\u884C\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gatsby build\"), \")\\n2. \\u628A\\u96F2\\u7AEFserver\\u4E0A\\u653E\\u90E8\\u843D\\u683C\\u7684\\u4F4D\\u7F6E\\u539F\\u672C\\u7684\\u6240\\u6709\\u975C\\u614B\\u6A94\\u6848\\u5168\\u90E8\\u522A\\u6389\\n3. \\u628A\\u81EA\\u5DF1\\u7684\\u96FB\\u8166\\u4E0Abuild\\u5B8C\\u7684\\u6A94\\u6848\\u7528\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"rsync\"), \"\\u6216\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"scp\"), \"\\u4E4B\\u985E\\u7684\\u6307\\u4EE4\\uFF0C\\u5C07\\u6A94\\u6848\\u9001\\u53BB\\u96F2\\u7AEFserver\\u4E0A\"), mdx(\"p\", null, \"  \\u96D6\\u7136\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"1~3\"), \"\\u5176\\u5BE6\\u662F\\u6709\\u8FA6\\u6CD5\\u5BEB\\u6210\\u4E00\\u500B\\u6307\\u4EE4\\uFF0C\\u7136\\u5F8C\\u4E00\\u500B\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"enter\"), \"\\u5B8C\\u6210\\uFF0C\\u4E0D\\u904E\\u6211\\u5F8C\\u4F86\\u767C\\u73FE\\u9019\\u662F\\u4E00\\u500B\\u5F88\\u597D\\u7684\\u7DF4\\u7FD2\\u90E8\\u7F72\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"CI/CD pipeline\"), \"\\u7684\\u7DF4\\u7FD2\\u60C5\\u5883\\u3002\"), mdx(\"h2\", {\n    \"id\": \"在git-push之後自動在remote-repository上固定做某些事\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#%E5%9C%A8git-push%E4%B9%8B%E5%BE%8C%E8%87%AA%E5%8B%95%E5%9C%A8remote-repository%E4%B8%8A%E5%9B%BA%E5%AE%9A%E5%81%9A%E6%9F%90%E4%BA%9B%E4%BA%8B\",\n    \"aria-label\": \"在git push之後自動在remote repository上固定做某些事 permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"\\u5728git push\\u4E4B\\u5F8C\\u81EA\\u52D5\\u5728remote repository\\u4E0A\\u56FA\\u5B9A\\u505A\\u67D0\\u4E9B\\u4E8B\"), mdx(\"p\", null, \"\\u9019\\u908A\\u4E26\\u4E0D\\u60F3\\u8981\\u4ECB\\u7D39\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"CI/CD\"), \"\\u7684\\u5B9A\\u7FA9\\uFF0C\\u4E5F\\u4E0D\\u60F3\\u53BB\\u722D\\u8FAF\\u6211\\u5011\\u505A\\u7684\\u4E8B\\u80FD\\u4E0D\\u80FD\\u7A31\\u5F97\\u4E0A\\u662F\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"CI/CD\"), \"\\u9019\\u6A23 \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"\\u9AD8~\\u5927~\\u4E0A\"), \"\\u7684\\u540D\\u8A5E\\u3002\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\u6211\\u5011\\u60F3\\u8981\\u505A\\u5230\\u7684\\u4E8B\\u60C5\\u5F88\\u7C21\\u55AE\\uFF0C\\u5C31\\u662F\\u6211\\u53EA\\u60F3\\u8981\\u8CA0\\u8CAC\\u5BEB\\u6587\\u7AE0\\uFF0C\\u90E8\\u7F72\\u6211\\u6700\\u5F8C\\u7522\\u751F\\u597D\\u7684\\u975C\\u614B\\u6A94\\u6848\\u7684\\u4E8B\\u60C5\\u6211\\u53EA\\u60F3\\u8981\\u5728\\u7B2C\\u4E00\\u6B21\\u6642\\u505A\\u4E00\\u904D\\u5C31\\u597D\\uFF0C\\u4EE5\\u5F8C\\u90FD\\u61C9\\u8A72\\u8981\\u80FD\\u8B93\\u96FB\\u8166\\u81EA\\u52D5\\u5E6B\\u6211\\u505A\\uFF0C\\u9023\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gatsby build\"), \"\\u9019\\u500B\\u985E\\u4F3C\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"\\u7DE8\\u8B6F\"), \"\\u7684\\u6307\\u4EE4\\uFF0C\\u6211\\u90FD\\u4E0D\\u60F3\\u5728\\u672C\\u5730\\u958B\\u767C\\u96FB\\u8166\\u505A\\uFF0C\\u6211\\u5E0C\\u671B\\u80FD\\u5920\\u6709\\u4E00\\u53F0\\u96F2\\u7AEF\\u4E0A\\u7684\\u6A5F\\u5668\\u8CA0\\u8CAC\\u505A\\u9019\\u4EF6\\u4E8B\\u60C5\\uFF0C\\u4E26\\u5728\\u7DE8\\u8B6F\\u90FD\\u6B63\\u78BA\\u7121\\u8AA4\\u4E4B\\u5F8C\\uFF0C\\u80FD\\u5920\\u81EA\\u52D5\\u5E6B\\u6211\\u628A\\u7522\\u51FA\\u7684\\u6771\\u897F\\uFF0C\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"\\u63A8\\u9001\\u5230\\u6B63\\u5F0F\\u74B0\\u5883\"), \"\\uFF0C\\u5C31\\u662F\", mdx(\"del\", {\n    parentName: \"p\"\n  }, \"\\u786C\\u8981\\u800D\\u61F6\"), \"DRY\\u539F\\u5247\\u5728deploy\\u6642\\u7684\\u5BE6\\u73FE  \"), mdx(\"p\", null, \"\\u5728\\u5BEB\\u90E8\\u843D\\u683C\\u6642\\u5728\\u672C\\u5730\\u6211\\u5DF2\\u7D93\\u6709\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gatsby develop\"), \"\\u9019\\u6A23\\u7684\\u6307\\u4EE4\\u53EF\\u4EE5\\u908A\\u5BEB\\u908A\\u78BA\\u5B9A\\u7522\\u751F\\u51FA\\u4F86\\u7684\\u7DB2\\u9801\\u7684\\u6A23\\u5B50\\u4E86\\uFF0C\\u5176\\u5BE6\\u53EF\\u4EE5\\u4E0D\\u7528\\u628A\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gatsby build\"), \"\\u9019\\u4EF6\\u4E8B\\u5728\\u6211\\u81EA\\u5DF1\\u96FB\\u8166\\u4E0A\\u505A\\u3002  \"), mdx(\"h4\", {\n    \"id\": \"該如何做到？？\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h4\"\n  }, {\n    \"href\": \"#%E8%A9%B2%E5%A6%82%E4%BD%95%E5%81%9A%E5%88%B0%EF%BC%9F%EF%BC%9F\",\n    \"aria-label\": \"該如何做到？？ permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"\\u8A72\\u5982\\u4F55\\u505A\\u5230\\uFF1F\\uFF1F\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u9996\\u5148\\u6211\\u5011\\u628A\\u6211\\u5011\\u7684\\u90E8\\u843D\\u683C\\u5728\\u514D\\u8CBB\\u7684git server\\u670D\\u52D9\\u4E0A\\u5275\\u4E00\\u500B\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"repo\"), \"\\u7136\\u5F8Ccode \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"git push\"), \"\\u5230\\u5B83\\u4E0A\\u9762\\uFF0C\\u50CF\\u6211\\u4E00\\u958B\\u59CB\\u662F\\u4F7F\\u7528\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://bitbucket.org/product/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"BitBucket\"), \"\\uFF0C\\u56E0\\u70BA\\u5B83\\u5728\\u4E4B\\u524D\\u662F\\u552F\\u4E00\\u80FD\\u5920\\u514D\\u8CBB\\u64C1\\u6709\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"private repo\"), \"\\u7684\\u670D\\u52D9\\u3002\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u63A5\\u8457\\u5728\\u672C\\u5730blog\\u7684repo\\u88E1\\u5275\\u7ACB\\u4E00\\u500B\\u6A94\\u6848\\u53EB\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"bitbucket-pipelines.yml\"), \"\\uFF0C\\u9019\\u500B\\u5C31\\u662F\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"bitbucket\"), \" pipeline\\u6A5F\\u5236\\u7684\\u8A2D\\u5B9A\\u6A94\\uFF0C\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"bitbucket\"), \"\\u5728\\u6211\\u5011\\u628A\\u65B0\\u7684code \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"git push\"), \"\\u4E0A\\u53BB\\u4E4B\\u5F8C\\uFF0C\\u5982\\u679Crepo\\u5E95\\u4E0B\\u6709\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"bitbucket-pipelines.yml\"), \"\\u9019\\u500B\\u6A94\\u6848\\uFF0Cbitbucket server\\u4E0A\\u7684\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"CI/CD runner\"), \"\\u5C31\\u6703\\u958B\\u59CB\\u89E3\\u6790\\u9019\\u500B\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"yml\\u6A94\"), \"\\u88E1\\u7684\\u5167\\u5BB9\\uFF0C\\u4E26\\u6309\\u7167\\u88E1\\u9762\\u4F86\\u505A\\u4E8B\"))), mdx(\"p\", null, \"\\u90A3\\u9EBC\\u5E95\\u4E0B\\u6703\\u662F\\u53EF\\u4EE5\\u4F5C\\u5230\\u6211\\u5011\\u4E0A\\u8FF0\\u60F3\\u505A\\u5230\\u7684\\u4E8B\\u7684\\u5167\\u5BB9\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"yml\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-yml\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yml\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# \\u8072\\u660Eimage\\u7684\\u8A71 Bitcucket\\u4E0A\\u7684runner\\u5C31\\u6703\\u77E5\\u9053\\u662F\\u8981\\u8D70docker container\\u6A21\\u5F0F\\uFF0C\\u9019\\u908A\\u6211\\u5011\\u8981\\u7528alpine\\u9019\\u500Blinux os\\uFF0C\\u7136\\u5F8C\\u4E0A\\u9762\\u5DF2\\u7D93\\u5B89\\u88DD\\u597D\\u6700\\u65B0\\u7248\\u7684node.js\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token key atrule\"\n  }), \"image\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" node\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"current\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"alpine\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token key atrule\"\n  }), \"pipelines\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# \\u53EA\\u6709\\u5728push\\u5230master \\u6216 PR\\u9032master\\u6642\\u624D\\u8DD1pipeline\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token key atrule\"\n  }), \"branches\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token key atrule\"\n  }), \"master\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \" \\n      \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token key atrule\"\n  }), \"step\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token key atrule\"\n  }), \"caches\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" node\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token key atrule\"\n  }), \"script\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# alpine\\u4E0A\\u7684OS library\\u7BA1\\u7406\\u5DE5\\u5177\\u53EB`apk` \\u9019\\u53E5script \\u7B49\\u65BCMac OS\\u4E0A\\u7684 brew update\\uFF0C \\u7136\\u5F8C\\u9806\\u4FBF\\u88DD\\u4E00\\u4E0Bopenssh\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" apk add \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"update \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"no\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"cache openssh\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# alpinen\\u96D6\\u7136\\u672C\\u8EAB\\u5F88\\u8F15\\u91CF(\\u53EA\\u67095mb)\\uFF0C\\u4F46\\u662F\\u5B83\\u4E5F\\u7F3A\\u5C11\\u4E86\\u5F88\\u591A\\u4E00\\u822COS\\u4E0A\\u6703\\u6709\\u7684\\u7A0B\\u5F0F\\uFF0C\\u9019\\u88E1\\u662F\\u5728\\u5B89\\u88DD python, g++, make...\\u9019\\u4E9B\\u6771\\u897F\\uFF0C\\u56E0\\u70BA\\u5B83\\u5011\\u662F\\u6211\\u5011\\u4E4B\\u5F8Cgatsby build\\u6642\\u7684\\u90A3\\u4E9Bplugin\\u53EF\\u80FD\\u6703\\u7528\\u5230\\u7684\\u7A0B\\u5F0F\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" apk update && apk add python g++ make bash zlib\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"dev libpng\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"dev&& rm \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"rf /var/cache/apk/*\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# access\\u65E5\\u672C\\u90A3\\u908A\\u7684\\u4E00\\u500Balpine\\u8EDF\\u9AD4\\u5EAB \\u4EE5\\u53D6\\u5F97 libvips\\u9019\\u500B\\u7A0B\\u5F0F(\\u4E00\\u500Bnode.js\\u7684\\u5F71\\u50CF\\u8655\\u7406library\\uFF0C\\u5B83\\u88AB\\u6211\\u5011\\u7684gatsby-transformer-sharp\\u9019\\u500Bplugin\\u6240\\u9700\\u8981\\u7528\\u5230\\uFF0C\\u56E0\\u70BA\\u6211\\u5011\\u5728gatsby build\\u7684\\u904E\\u7A0B\\u88E1\\u6703\\u5C0D\\u5716\\u6A94\\u9032\\u884C\\u512A\\u5316)\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" apk add \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"update \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"no\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"cache \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"repository http\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"//ftp.tsukuba.wide.ad.jp/Linux/alpine/v3.10/main/ vips\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"dev\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# \\u5982\\u679C\\u771F\\u6B63\\u653Eblog source\\u7684\\u8CC7\\u6599\\u593E\\u8DDF `bitbucket-pipelines.yml`\\u4E0D\\u662F\\u540C\\u4E00\\u5C64\\u7684\\u8A71 \\u4E0D\\u8981\\u5FD8\\u4E86\\u8981\\u518Dcd\\u9032\\u53BB\\uFF0C\\u5728\\u73FE\\u5728\\u7684template\\u5E95\\u4E0B\\u662F\\u5728\\u540C\\u4E00\\u5C64\\uFF0C\\u6240\\u4EE5\\u7121\\u9808\\u57F7\\u884C\"), \"\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# - cd ./myblog\"), \"\\n \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# \\u7D66\\u4E88\\u6B0A\\u9650\\uFF0C\\u9019\\u662F\\u7528\\u4F86\\u6392\\u9664 `sharp EACCES: permission denied, mkdir '/root/.npm'`\\u9019\\u500B\\u554F\\u984C\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" npm config set user 0\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" npm config set unsafe\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"perm true\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# \\u7D42\\u65BC\\u958B\\u59CB\\u770B\\u5230\\u719F\\u6089\\u7684\\u6307\\u4EE4\\uFF0C\\u5B89\\u88DD\\u5BEB\\u5728package.json\\u88E1\\u7684\\u90A3\\u4E9B\\u5957\\u4EF6\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" npm install\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# \\u958B\\u59CBbuild\\uFF0C\\u7136\\u5F8C\\u4E0D\\u7522\\u751FsourceMap\\uFF0C\\u4EE5\\u6E1B\\u5C11\\u7DB2\\u8DEF\\u50B3\\u8F38\\u91CF\\u548C\\u90E8\\u7F72\\u7684\\u901F\\u5EA6\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" npm run buildWithouSourceMap\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# ssh\\uFF08\\u6240\\u4EE5\\u525B\\u525B\\u4E0A\\u9762\\u624D\\u8981\\u5B89\\u88DDopenssh\\uFF09\\u5230\\u8981\\u90E8\\u7F72\\u7684\\u9060\\u7AEFserver\\uFF0C\\u628A\\u6A94\\u6848\\u63A8\\u904E\\u53BB\\u4E4B\\u524D\\u5148\\u522A\\u6389\\u4E4B\\u524D\\u7684\\u6240\\u6709\\u6A94\\u6848\\uFF0C\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token comment\"\n  }), \"# \\u518D\\u628A\\u73FE\\u5728\\u9019\\u500Bcontainer\\u5E95\\u4E0B\\u7684public\\u8CC7\\u6599\\u593E(\\u9019\\u500Btemplate gatsby build\\u5B8C\\u4E4B\\u5F8C\\u653E\\u975C\\u614B\\u6A94\\u6848\\u7684\\u8CC7\\u6599\\u593E)\\u88E1\\u7684\\u6A94\\u6848scp\\u904E\\u53BB\\u5230server\\u4E0A\\u653Eblog\\u6A94\\u6848\\u7684\\u8DEF\\u5F91\\u5E95\\u4E0B\"), \"\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \" ssh your_account@your_server_ip 'rm \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"rf /path/to/your/blogFiles/* && exit' && scp \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \"-\"), \"r ./public/* account@your_server_ip\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token punctuation\"\n  }), \":\"), \"/path/to/your/blogFiles\"))), mdx(\"p\", null, \"\\u56E0\\u70BA\\u6211\\u5011\\u8981\\u5728\\u9060\\u7AEF\\u6A5F\\u5668\\u4E0A\\u8981\\u7528\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Gatsby\"), \"\\u53BB\\u7528\\u6211\\u5011\\u7684repo\\u88E1\\u7684\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"code\"), \"\\u8DDF\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"markdown\"), \", \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"assets\"), \" build\\u51FA\\u6211\\u5011\\u7684blog\\u7684\\u975C\\u614B\\u6A94\\uFF0C\\n\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Gatsby\"), \"\\u662F\\u9760\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"node.js\"), \"\\u53BB\\u9A45\\u52D5\\uFF0C\\u8981\\u8DD1\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"node.js\"), \"\\u8981\\u6709\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"\\u4F5C\\u696D\\u7CFB\\u7D71\"), \"\\uFF0C\\u5728\\u9019\\u88E1\\u6211\\u5011\\u9078\\u7528\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://alpinelinux.org/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"alpine\"), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\u9019\\u4E00\\u500B\\u5FAE\\u91CF\\u7684Linux\\u4F5C\\u696D\\u7CFB\\u7D71\\uFF0C\\u7528\\u4E86\\u4E00\\u500B\\u5DF2\\u7D93\\u5728alipne\\u4E0A\\u5B89\\u88DD\\u597D\\u4E86\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"node.js\"), \"\\u7684\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://hub.docker.com/_/node/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"docker image\\u6A94\"), \"\\u3002  \"), mdx(\"p\", null, \"BitBucket\\u7684\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"CI/CD Runner\"), \"\\u56E0\\u70BA\\u770B\\u5230\\u6211\\u5011\\u7684\\u8A2D\\u5B9A\\u88E1\\u8981\\u4F7F\\u7528image\\u6A94\\uFF0C\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\u5C31\\u6703\\u81EA\\u52D5\\u4EE5\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"docker\"), \"\\u6A21\\u5F0F\\u4F86\\u63A5\\u8457\\u57F7\\u884C\\u6211\\u5011\\u5BEB\\u5728yml\\u6A94\\u88E1\\u7684pipeline\\uFF0C\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\u96D6\\u7136\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"alpine\"), \"\\u53EA\\u67095mb\\uFF0C\\u96D6\\u7136\\u7E2E\\u77ED\\u4E86\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"runner\"), \"\\u5F9E\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"dockerHub\"), \"\\u4E0B\\u8F09docker-image\\u7684\\u6642\\u9593\\uFF0C\\u4F46\\u662F\\u5C31\\u662F\\u56E0\\u70BA\\u592A\\u5C0F\\u4E86\\uFF0C\\u6240\\u4EE5\\u4F5C\\u696D\\u7CFB\\u7D71\\u88E1\\u7F3A\\u5C11\\u4E86\\u4E00\\u4E9B\\u6211\\u5011\\u5F8C\\u9762\\u8981\\u57F7\\u884C\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"gatsby build\"), \"\\u6642\\u6240\\u9700\\u8981\\u7528\\u5230\\u7684api\\uFF0C\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\u5C31\\u8B8A\\u6210\\u6211\\u5011\\u81EA\\u5DF1\\u5FC5\\u9808\\u8981\\u77E5\\u9053\\u70BA\\u9054\\u5230\\u6211\\u5011\\u7684\\u76EE\\u7684\\uFF0C\\u6211\\u5011\\u9084\\u53E6\\u5916\\u5FC5\\u9808\\u8981\\u5B89\\u88DD\\u4EC0\\u9EBC\\u3002  \"), mdx(\"p\", null, \"\\u7B49\\u5230\\u6240\\u6709\\u7684\\u6E96\\u5099\\u5DE5\\u4F5C\\u90FD\\u505A\\u597D\\u4E4B\\u5F8C\\uFF0C\\u5C31\\u53EF\\u4EE5\\u5728\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"script\"), \"\\u88E1\\u518D\\u57F7\\u884C\\u6211\\u5011\\u5E73\\u5E38\\u5728\\u672C\\u5730\\u958B\\u767C\\u96FB\\u8166\\u4E0A\\u57F7\\u884C\\u7684\\u6307\\u4EE4\\u3002\\u6700\\u5F8C\\u628Abuild\\u51FA\\u4F86\\u7684\\u975C\\u614B\\u6A94\\u6848\\uFF0C\\u7528ssh\\u7684shell\\u9001\\u5230\\u6B63\\u5F0F\\u74B0\\u5883\\u7684server\\u4E0A\\u3002  \"), mdx(\"p\", null, \"\\u7528\\u9019\\u6A23\\u7684\\u65B9\\u5F0F\\uFF0C\\u53EA\\u8981repo\\u88E1\\u6709\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"bitbucket-pipelines.yml\"), \"\\u9019\\u500B\\u6A94\\u6848\\uFF0C\\u6BCF\\u6B21\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"git push\"), \"\\u5230\\u9060\\u7AEF\\u7684repository\\u4E0A\\u6642\\uFF0C\\u9019\\u500B\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"pipeline\"), \"\\u5C31\\u6703\\u767C\\u52D5\\u4E00\\u6B21\\uFF0C\\u4F5C\\u5230\\u81EA\\u52D5\\u90E8\\u7F72\\u3002 \"), mdx(\"p\", null, \"\\u8981\\u6CE8\\u610F\\u7684\\u662F:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"BitBucket\"), \"\\u4E0A\\u514D\\u8CBB\\u5E33\\u865F\\u6BCF\\u500B\\u6708\\u7684pipeline\\u6642\\u9593\\u53EA\\u6709\", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://confluence.atlassian.com/bitbucket/limitations-of-bitbucket-pipelines-827106051.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"50\\u5206\\u9418\"), \"\\uFF0C\\u842C\\u4E00\\u7528\\u5B8C\\u4E86\\u5C31\\u6C92\\u8FA6\\u6CD5\\u5728\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"pull request \\u6216\\u662F push\"), \"\\u4E4B\\u5F8C\\u89F8\\u767C\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"pipeline\"), \"\\u4E86  \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u521D\\u6B21\\u63A5\\u89F8\\u9019\\u6A23\\u7684\\u6771\\u897F\\u7684\\u4EBA\\u8981\\u6CE8\\u610F\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"yml\\u6A94\"), \"\\u7684\\u5BEB\\u6CD5\\u5FC5\\u9808\\u6309\\u7167\\u56FA\\u5B9A\\u683C\\u5F0F, \\u5982\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"\\u90FD\\u662F\\u4F7F\\u7528\\u5169\\u500B\\u7A7A\\u683C\\u7684\\u7E2E\\u6392\"), \"...\\u4E4B\\u985E\\u7684\", mdx(\"br\", {\n    parentName: \"li\"\n  }), \"\\u6240\\u4EE5bitbucket\\u7DB2\\u7AD9\\u4E0A\\u6709pipeline yml\\u6A94\\u7684\\u6AA2\\u9A57\\u9801\\u9762\\uFF0C\\u5E6B\\u52A9\\u6211\\u5011\\u5C11\\u8D70\\u51A4\\u6789\\u8DEF\\uD83D\\uDE2D\\uD83D\\uDE02 \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://bitbucket-pipelines.atlassian.io/validator\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Validator for bitbucket-pipelines.yml\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u8981\\u91DD\\u5C0D\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"scp\"), \"\\u6216\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"rsync\"), \"\\u904E\\u53BB\\u7684\\u7684server\\u5728Bitbucket\\u7684repo\\u4E0A\\u8A2D\\u5B9A\\u4E00\\u7D44\", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"ssh key\"), \"\\u7D66 \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"openssh\"), \"\\u4F7F\\u7528\\u3002\\n\", mdx(\"span\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/e9a68/addSSHKeyForRunner.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"48.768864177918985%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAC4jAAAuIwF4pT92AAABfElEQVQoz51S207jMBD1zy9qeeSFb0H7vrwhcd9dlrahSWhJHSeOHTuJncPYLbcVIMRIRx7N5cyMZ9jRVYE1r1FsBNrWoqw1eG0QZBxHKKUhpYJzDsbYaHtPgj2A3WQCBa9Q1QotJVSqRzf4GBRIkmyDBaGsNLRu0TSaCpuob2Ewev9MzPK1iN3Jpo2E2gyQykYyHzrsHerOQTugowTjg21A0/URqhtALliyO+fBkoxjtQ4dNDC2Q03jbUf08G6AmM3RzGYY8hx9lkMtEpR//8Eu0y3SFF0A+Tw1we7yHaGQsETIFVWnUQCqTKOJw0PwH3so9/cj+HQKPplGXexs5WQCcXAAT/FssRJYcQGhOyK0uP+zxOL8N1Q+w3eEXf78hfnxCYrTc8iLC6zPrrG5STCWVfzD8RME8bSQADxtOb26hUgylPMEMs23J7Db2vgFwri8V/HsQRrYwaGxPVra2PhyWG8SP7q9/3W2KiQMfaZsdLyp187PCN+LCe8jL1H/3C4t8jAAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"addSSHKeyForRunner_bitbucket\",\n    \"title\": \"addSSHKeyForRunner_bitbucket\",\n    \"src\": \"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/799d3/addSSHKeyForRunner.png\",\n    \"srcSet\": [\"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/00d96/addSSHKeyForRunner.png 148w\", \"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/0b23c/addSSHKeyForRunner.png 295w\", \"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/799d3/addSSHKeyForRunner.png 590w\", \"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/2a3d6/addSSHKeyForRunner.png 885w\", \"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/ae92f/addSSHKeyForRunner.png 1180w\", \"/static/c2ee3ff4f5757e68b2abe27c68c8afa0/e9a68/addSSHKeyForRunner.png 1259w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \"))), mdx(\"p\", null, \"Github\\u7684\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"travis CI\"), \", Gitlab\\u4E0A\\u7684CI/CD\\u4E5F\\u662F\\u5927\\u540C\\u5C0F\\u7570\\uFF0C\\u53EA\\u662F\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"yml\\u6A94\"), \"\\u7684\\u6A94\\u540D\\u4E0D\\u540C \\u548C yml\\u6A94\\u88E1\\u7684\\u8A2D\\u5B9A\\u7684\\u8A5E\\u6709\\u4E9B\\u5DEE\\u7570\\uFF0C\\u6309\\u7167\\u5176\\u6587\\u4EF6\\u8A2D\\u5B9A\\uFF0C\\u61C9\\u8A72\\u5C31\\u80FD\\u8FCE\\u5203\\u800C\\u89E3\\u3002\\u53E6\\u5916\\u6CE8\\u610F\\u6211\\u5011\\u662F\\u4F7F\\u7528\\u5B83\\u5011\\u7684\\u670D\\u52D9\\uFF0C\\u6240\\u4EE5\\u4E0D\\u5FC5\\u81EA\\u5DF1\\u8655\\u7406\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"runner\"), \"(\\u7528\\u4F86\\u8DD1pipeline\\u7684\\u96FB\\u8166\\u6216process)\\u7684\\u4E8B\\u60C5\\u3002\\u5982\\u679C\\u662F\\u81EA\\u5DF1\\u67B6\\u8D77\\u4F86\\u7684git server\\uFF0C\\u5982\\u81EA\\u5DF1\\u67B6\\u7684\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Gitlab\"), \", \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Gitea\"), \"\\uFF08\\u4EBA\\u5011\\u7A31\\u7684 self-hosted Git service \\uFF09\\u90A3\\u6A23\\u7684\\u72C0\\u6CC1\\uFF0C\\u5C31\\u5FC5\\u9808\\u8981\\u81EA\\u5DF1\\u8655\\u7406\", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"runner\"), \"\\u7684\\u6A5F\\u5668\\u7684\\u8A2D\\u5B9A\\u3002\"), mdx(\"p\", null, \"\\u6211\\u7684blog\\u7684\\u90E8\\u5206pipeline\\u7D00\\u9304\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/0bda62e3ef65baef3455aaa1df3d366c/98792/myblog_pipeline.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": [\"noopener\"]\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"47.70206022187005%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABmElEQVQoz31SW26kMBDk/gfam+Qju5ESbVgGMOblB9jYVLrMTKTMx7aEaEx3ubqqq18vPVq9QA0TVuvh3IbVWMTjQIgR53niObIcxSPjOBJSSgiBtQcOyavXeoTSM6bFwPkNnZrw2ahSyIaccylk/gBYbID1B4wQsM7D+11yJ/07qn/tJOxGYeWxbTtWF9EOpjAlwB5iaWQe798EIfuwR6T7GSOljOq9HtB0GsO4yk0b3J7w56NF3fSliMWD1lhWg1mmuFhfMtymEYNdpXcpDNteo3r72+O9Vrj1ZOkQ0wkfsuh0Fv0ooXemFN/kYmpNdgy9GSgvRGQyTrftQRh+KrTdgHE2RYNnEwjsrEEngK1c2snzGFF7g0EAqT115Lv6LePdWlU0pG7nNzMCX28C1k0nho2liRvAUJtF/wNQTGn6a34C2jsg4yfgCj3OouVcDKHTjDBrRJHDy6gEpBQVHeX81wo8Az5GXq/12EJhQ2OKq7rHKf8cz6WXu1g1ar3W5T+A1oiTeipu6mnBLowyAccemZf58L1KX6qVBxrfEMVVAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"myblog_pipelineHistory\",\n    \"title\": \"myblog_pipelineHistory\",\n    \"src\": \"/static/0bda62e3ef65baef3455aaa1df3d366c/799d3/myblog_pipeline.png\",\n    \"srcSet\": [\"/static/0bda62e3ef65baef3455aaa1df3d366c/00d96/myblog_pipeline.png 148w\", \"/static/0bda62e3ef65baef3455aaa1df3d366c/0b23c/myblog_pipeline.png 295w\", \"/static/0bda62e3ef65baef3455aaa1df3d366c/799d3/myblog_pipeline.png 590w\", \"/static/0bda62e3ef65baef3455aaa1df3d366c/2a3d6/myblog_pipeline.png 885w\", \"/static/0bda62e3ef65baef3455aaa1df3d366c/ae92f/myblog_pipeline.png 1180w\", \"/static/0bda62e3ef65baef3455aaa1df3d366c/98792/myblog_pipeline.png 1262w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"reference\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#reference\",\n    \"aria-label\": \"reference permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"reference\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://blog.chengweichen.com/2016/04/docker-gitlab-cigitlab-runner.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"\\u7528 Docker \\u67B6\\u8A2D GitLab CI\\u3001GitLab Runner\"), \"  \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://confluence.atlassian.com/bitbucket/configure-bitbucket-pipelines-yml-792298910.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Configure bitbucket-pipelines.yml\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/marketplace/travis-ci/plan/MDIyOk1hcmtldHBsYWNlTGlzdGluZ1BsYW43MA==#pricing-and-setup\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Github Travis CI\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.travis-ci.com/user/customizing-the-build/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Travis CI - Customizing the Build\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.gitlab.com/ee/ci/yaml/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"GitLab CI/CD Pipeline Configuration Reference\"))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"打造自己部落格的CI/CD pipeline，以BitBucket環境為例","date":"2019-08-04","tags":["BitBucket","CI/CD","docker","pipeline"],"description":"紀錄在bitbucket上該如何用好ci/cd pipeline，以一個個人的gatsby-blog為例"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/content/2019/08/04/blog_cicd_pipeline/","id":"05aeb0f3-8e90-54be-81e2-266276036bde"}}}